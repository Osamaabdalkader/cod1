<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل الدخول - نظام الإحالة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-user-circle"></i> تسجيل الدخول</h1>
            <p>ادخل إلى حسابك لإدارة شبكة الإحالات الخاصة بك</p>
        </header>
        
        <div class="tab-content active">
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email">البريد الإلكتروني</label>
                    <input type="email" id="login-email" placeholder="أدخل بريدك الإلكتروني" required>
                </div>
                
                <div class="form-group">
                    <label for="login-password">كلمة المرور</label>
                    <input type="password" id="login-password" placeholder="أدخل كلمة المرور" required>
                </div>
                
                <button type="submit">تسجيل الدخول</button>
            </form>
            
            <p style="margin-top: 20px; text-align: center;">
                ليس لديك حساب؟ <a href="#" onclick="showSignup()">إنشاء حساب جديد</a>
            </p>
        </div>
        
        <div class="tab-content" id="signup-tab">
            <form id="signup-form">
                <div class="form-group">
                    <label for="signup-name">الاسم الكامل</label>
                    <input type="text" id="signup-name" placeholder="أدخل اسمك الكامل" required>
                </div>
                
                <div class="form-group">
                    <label for="signup-email">البريد الإلكتروني</label>
                    <input type="email" id="signup-email" placeholder="أدخل بريدك الإلكتروني" required>
                </div>
                
                <div class="form-group">
                    <label for="signup-password">كلمة المرور</label>
                    <input type="password" id="signup-password" placeholder="أنشئ كلمة مرور قوية" required>
                </div>
                
                <div class="form-group">
                    <label for="referral-code">رمز الإحالة (اختياري)</label>
                    <input type="text" id="referral-code" placeholder="أدخل رمز الإحالة إذا كان لديك">
                </div>
                
                <button type="submit">إنشاء حساب</button>
            </form>
            
            <p style="margin-top: 20px; text-align: center;">
                لديك حساب بالفعل؟ <a href="#" onclick="showLogin()">تسجيل الدخول</a>
            </p>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <!-- ملفات التطبيق -->
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/database.js"></script>
    <script src="js/referral-system.js"></script>
    <script src="js/ui.js"></script>

    <script>
        // وظائف للتبديل بين تسجيل الدخول وإنشاء حساب
        function showSignup() {
            document.querySelector('.tab-content.active').classList.remove('active');
            document.getElementById('signup-tab').classList.add('active');
        }
        
        function showLogin() {
            document.querySelector('.tab-content.active').classList.remove('active');
            document.querySelector('.tab-content:first-child').classList.add('active');
        }
        
        // التحقق من وجود رمز إحالة في URL
        const urlParams = new URLSearchParams(window.location.search);
        const refCode = urlParams.get('ref');
        if (refCode) {
            document.getElementById('referral-code').value = refCode;
            showSignup();
        }
    </script>
</body>
</html>